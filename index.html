<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Mode adventure FRX3</title>
    <meta name="description" content="Mode Adventure FRX3 : jeu multijoueur gratuit en ligne. Entrez un pseudo et explorez un monde fun et social. Rejoignez notre communauté sur FRX3.">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Rendre la page et le canvas plein écran */
        html, body {
            height: 100%;
            margin: 0;
        }
        body {
            background-color: black;
        }

        /* Canvas plein écran */
        canvas#game {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: block;
            z-index: 0;
        }

        /* UI au-dessus du canvas */
        #login, #chatbox {
            position: relative;
            z-index: 10;
        }

        /* Contrôles mobiles : fixés en bas-centre (comme avant) */
        #mobile-controls {
            position: fixed;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 20;
            touch-action: none;
        }

        #mobile-controls button {
            width: 54px;
            height: 54px;
            border-radius: 8px;
            border: none;
            background: rgba(255,255,255,0.85);
            font-size: 20px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        }

        /* Couleur des messages */
        #messages { color: rgb(255, 255, 255); }
    </style>
</head>
<body>

<div id="login">
    <h2>Entrez votre pseudo (Bande de goats)</h2>
    <input type="text" id="usernameInput" placeholder="Pseudo il est definitif faite attention" autocomplete="on">
    <button id="startButton">Jouer (Vous ètes des pro.)</button>
    <p style="color:#5d6ada">Rejoignez la communotée FRX3 sur toutes nos plateforme et rejoignez "https://is.gd/chatfrx3" demandez a aller dans le groupe NewUsers vous etes les bien venu je vous tiendrez au courant de toutes les nouvelles versions et je vous proposerez si vous avez ma confiance a etre admin venez en masse ! Ce site n'est pas terminé une nouvelle version pour mi novembre maximum vous ne serez pas dessu il y aura des skins pour révéler comment vous êtes réelement pour votre plus grand plaisir. N'ésitez pas a partager ce site a vos amis ça nous encourage et nous aide Merci. Et pour les utilisaturs ordi utilisez les fleches clavier</p>
</div>

<!-- Canvas : taille gérée par CSS/JS -->
<canvas id="game" class="hidden"></canvas>

<div id="mobile-controls">
    <button id="upBtn">↑</button>
    <button id="leftBtn">←</button>
    <button id="rightBtn">→</button>
    <button id="downBtn">↓</button>
    <button id="talkBtn">E</button>
</div>

<div id="chatbox" class="hidden">
    <div id="messages"></div>
    <input id="chatinput" placeholder="Message Attention il faut être polit " autocomplete="on">
</div>

<script>
// Redimensionne le canvas en pixels réels et gère le resize
(function(){
  function resizeCanvas(){
    const canvas = document.getElementById('game');
    if (!canvas) return;
    const dpr = window.devicePixelRatio || 1;
    const width = Math.max(1, Math.floor(window.innerWidth * dpr));
    const height = Math.max(1, Math.floor(window.innerHeight * dpr));
    canvas.width = width;
    canvas.height = height;
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    const ctx = canvas.getContext('2d');
    if (ctx && typeof ctx.setTransform === 'function') {
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
  }
  window.addEventListener('resize', resizeCanvas);
  window.addEventListener('orientationchange', resizeCanvas);
  // appeler immédiatement
  resizeCanvas();
})();
</script>

<script src="client.js"></script>
</body>
</html>
